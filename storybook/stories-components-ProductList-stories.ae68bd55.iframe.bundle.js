(self.webpackChunkreact_shopping_shop=self.webpackChunkreact_shopping_shop||[]).push([[82],{"./src/stories/components/ProductList.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},Interaction:function(){return Interaction},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ProductList_stories}});var _templateObject,ProductList_stories_templateObject,_templateObject2,_Default$parameters,_Default$parameters2,_Default$parameters2$,_Interaction$paramete,_Interaction$paramete2,_Interaction$paramete3,_play,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),ProductItem=__webpack_require__("./src/components/main/ProductItem.tsx"),useFetchData=__webpack_require__("./src/hooks/useFetchData.ts"),url=__webpack_require__("./src/constants/url.ts"),ProductListState=__webpack_require__("./src/store/ProductListState.ts"),react=__webpack_require__("./node_modules/react/index.js"),Skeleton=__webpack_require__("./src/components/main/Skeleton.tsx"),ServerState=__webpack_require__("./src/store/ServerState.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),S={Wrapper:styled_components_browser_esm.zo.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(3, 1fr);\n    gap: 86px 4%;\n    max-width: 1270px;\n    margin: 0 auto;\n    padding: 0 20px 120px;\n\n    @media all and (min-width: 768px) and (max-width: 1023px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media all and (min-width: 480px) and (max-width: 767px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media all and (max-width: 479px) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  "])))},main_ProductList=function ProductList(){var _useRecoilState=(0,es.FV)(ProductListState.v),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),productList=_useRecoilState2[0],setProductList=_useRecoilState2[1],serverUrl=(0,es.sJ)(ServerState.v),_useFetchData=(0,useFetchData.$)(setProductList),api=_useFetchData.api,isLoading=_useFetchData.isLoading;(0,react.useEffect)((function(){api.get("".concat(serverUrl).concat(url.lz))}),[serverUrl]);var skeleton=Array.from({length:12}).map((function(_,index){return(0,jsx_runtime.jsx)(Skeleton.Z,{},index)})),products=productList.map((function(product){return(0,jsx_runtime.jsx)(ProductItem.Z,{id:product.id,name:product.name,price:product.price,imgUrl:product.imageUrl},product.id)}));return(0,jsx_runtime.jsx)(S.Wrapper,{children:isLoading?skeleton:products})},react_esm=__webpack_require__("./node_modules/@testing-library/react/dist/@testing-library/react.esm.js"),dist=__webpack_require__("./node_modules/@testing-library/user-event/dist/index.js"),esm=__webpack_require__("./node_modules/@storybook/jest/dist/esm/index.js"),Header=__webpack_require__("./src/components/Header.tsx"),ProductList_stories={title:"Pages/product/ProductList",component:main_ProductList,tags:["autodocs"],decorators:[function(Story){return(0,jsx_runtime.jsx)(Story,{})}]},Default={},Interaction={decorators:[function(Story){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HeaderWrapper,{children:(0,jsx_runtime.jsx)(Header.Z,{})}),(0,jsx_runtime.jsx)(Wrapper,{children:(0,jsx_runtime.jsx)(Story,{})})]})}],play:(_play=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(_ref){var canvasElement,canvas,badge,addCartButton,increaseButton,quantityInput,decreaseButton;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return canvasElement=_ref.canvasElement,canvas=(0,react_esm.uh)(canvasElement),window.localStorage.clear(),_context.next=5,new Promise((function(resolve){return setTimeout(resolve,3e3)}));case 5:return badge=document.querySelector("#cart-badge"),(0,esm.l)(badge).toContainHTML("0"),addCartButton=document.querySelectorAll("svg")[1],_context.next=10,dist.ZP.click(addCartButton);case 10:return(0,esm.l)(canvas.getAllByLabelText("increase")),(0,esm.l)(badge).toContainHTML("1"),_context.next=14,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 14:return increaseButton=document.querySelector('button[aria-label="increase"]'),_context.next=17,dist.ZP.click(increaseButton);case 17:return(0,esm.l)(canvas.getByDisplayValue(2)),_context.next=20,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 20:return quantityInput=document.getElementById("product1"),_context.next=23,dist.ZP.type(quantityInput,"0",{delay:200});case 23:return(0,esm.l)(canvas.getByDisplayValue(20)),_context.next=26,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 26:return _context.next=28,dist.ZP.type(quantityInput,"{backspace}{backspace}",{delay:200});case 28:return _context.next=30,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 30:return decreaseButton=document.querySelector('button[aria-label="decrease"]'),_context.next=33,dist.ZP.click(decreaseButton);case 33:return _context.next=35,new Promise((function(resolve){return setTimeout(resolve,100)}));case 35:(0,esm.l)(badge).toContainHTML("0");case 36:case"end":return _context.stop()}}),_callee)}))),function play(_x){return _play.apply(this,arguments)})},HeaderWrapper=styled_components_browser_esm.zo.div(ProductList_stories_templateObject||(ProductList_stories_templateObject=(0,taggedTemplateLiteral.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),Wrapper=styled_components_browser_esm.zo.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  margin-top: 120px;\n"])));Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})}),Interaction.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Interaction.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Interaction$paramete=Interaction.parameters)||void 0===_Interaction$paramete?void 0:_Interaction$paramete.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  decorators: [Story => {\n    return <>\n          <HeaderWrapper>\n            <Header />\n          </HeaderWrapper>\n          <Wrapper>\n            <Story />\n          </Wrapper>\n        </>;\n  }],\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    window.localStorage.clear();\n    await new Promise(resolve => setTimeout(resolve, 3000));\n    const badge = document.querySelector('#cart-badge');\n    expect(badge).toContainHTML('0');\n    const addCartButton = document.querySelectorAll('svg')[1];\n    await userEvent.click(addCartButton);\n    expect(canvas.getAllByLabelText('increase'));\n    expect(badge).toContainHTML('1');\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    const increaseButton = document.querySelector('button[aria-label=\"increase\"]')!;\n    await userEvent.click(increaseButton);\n    expect(canvas.getByDisplayValue(2));\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    const quantityInput = document.getElementById('product1')!;\n    await userEvent.type(quantityInput, '0', {\n      delay: 200\n    });\n    expect(canvas.getByDisplayValue(20));\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    await userEvent.type(quantityInput, '{backspace}{backspace}', {\n      delay: 200\n    });\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    const decreaseButton = document.querySelector('button[aria-label=\"decrease\"]')!;\n    await userEvent.click(decreaseButton);\n    await new Promise(resolve => setTimeout(resolve, 100));\n    expect(badge).toContainHTML('0');\n  }\n}"},null===(_Interaction$paramete2=Interaction.parameters)||void 0===_Interaction$paramete2||null===(_Interaction$paramete3=_Interaction$paramete2.docs)||void 0===_Interaction$paramete3?void 0:_Interaction$paramete3.source)})});var __namedExportsOrder=["Default","Interaction"]},"./src/components/main/Skeleton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),skeletonAnimation=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.F4)(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n"]))),skeleton=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n  animation: "," 5s infinite ease-out;\n  border-radius: 8px;\n  overflow: hidden;\n  @media all and (min-width: 768px) and (max-width: 1023px) {\n    width: 265px;\n  }\n\n  @media all and (min-width: 480px) and (max-width: 767px) {\n    width: 275px;\n  }\n\n  @media all and (max-width: 479px) {\n    width: 286px;\n  }\n"])),skeletonAnimation),S={Wrapper:styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.li(_templateObject3||(_templateObject3=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    list-style: none;\n  "]))),SkeletonThumbnail:(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(skeleton)(_templateObject4||(_templateObject4=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    width: 270px;\n    height: 270px;\n    margin-bottom: 20px;\n\n    @media all and (min-width: 768px) and (max-width: 1023px) {\n      height: 265px;\n    }\n\n    @media all and (min-width: 480px) and (max-width: 767px) {\n      height: 275px;\n    }\n\n    @media all and (max-width: 479px) {\n      height: 286px;\n    }\n  "]))),SkeletonTitle:(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(skeleton)(_templateObject5||(_templateObject5=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    width: 180px;\n    height: 24px;\n    margin-bottom: 10px;\n    ::after {\n      font-size: 0;\n      content: 'loading';\n    }\n  "]))),SkeletonPrice:(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP)(skeleton)(_templateObject6||(_templateObject6=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    width: 140px;\n    height: 24px;\n    ::after {\n      font-size: 0;\n      content: 'loading';\n    }\n  "])))};__webpack_exports__.Z=function Skeleton(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(S.Wrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(S.SkeletonThumbnail,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(S.SkeletonTitle,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(S.SkeletonPrice,{})]})}},"?4f7e":function(){}}]);