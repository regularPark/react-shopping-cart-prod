"use strict";(self.webpackChunkreact_shopping_shop=self.webpackChunkreact_shopping_shop||[]).push([[840],{"./src/stories/components/ProductItem.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProductItem:function(){return ProductItem},__namedExportsOrder:function(){return __namedExportsOrder}});var _templateObject,_templateObject2,_ProductItem$paramete,_ProductItem$paramete2,_ProductItem$paramete3,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),_components_main_ProductItem__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/main/ProductItem.tsx"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),meta={component:_components_main_ProductItem__WEBPACK_IMPORTED_MODULE_0__.Z,title:"Components/ProductItem",tags:["autodocs"],parameters:{actions:{disabled:!0}},decorators:[function(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(S.StoryWrapper,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{onClick:function onClick(){}})})}],args:{id:1,name:"PET보틀-정사각(370ml)",price:41e3,imgUrl:"".concat(".","/assets/product1.svg")},argTypes:{id:{description:"상품의 ID를 표기합니다."},name:{description:"상품의 이름을 표기합니다."},price:{description:"상품의 가격을 표기합니다."},imgUrl:{description:"상품의 이미지 URL입니다."}}};__webpack_exports__.default=meta;var ProductItem=function ProductItem(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(S.Wrapper,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_main_ProductItem__WEBPACK_IMPORTED_MODULE_0__.Z,{id:args.id,name:args.name,price:args.price,imgUrl:args.imgUrl})})},S={StoryWrapper:styled_components__WEBPACK_IMPORTED_MODULE_2__.zo.div(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    width: calc(100vw - 10vw);\n  "]))),Wrapper:styled_components__WEBPACK_IMPORTED_MODULE_2__.zo.div(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n    width: 50%;\n    height: auto;\n  "])))};ProductItem.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},ProductItem.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},null===(_ProductItem$paramete=ProductItem.parameters)||void 0===_ProductItem$paramete?void 0:_ProductItem$paramete.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({originalSource:"(args: any) => {\n  return <S.Wrapper>\n      <ProductItemComponent id={args.id} name={args.name} price={args.price} imgUrl={args.imgUrl} />\n    </S.Wrapper>;\n}"},null===(_ProductItem$paramete2=ProductItem.parameters)||void 0===_ProductItem$paramete2||null===(_ProductItem$paramete3=_ProductItem$paramete2.docs)||void 0===_ProductItem$paramete3?void 0:_ProductItem$paramete3.source)})});var __namedExportsOrder=["ProductItem"];try{ProductItem.displayName="ProductItem",ProductItem.__docgenInfo={description:"",displayName:"ProductItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/components/ProductItem.stories.tsx#ProductItem"]={docgenInfo:ProductItem.__docgenInfo,name:"ProductItem",path:"src/stories/components/ProductItem.stories.tsx#ProductItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/constants/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{LR:function(){return NONE_QUANTITY},_e:function(){return DELIVERY_FEE},jB:function(){return CART_ITEM_INDEX}});var NONE_QUANTITY=0,CART_ITEM_INDEX=0,DELIVERY_FEE=3e3},"./src/constants/url.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Dh:function(){return serverUrlObj},a5:function(){return CART_BASE_URL},lz:function(){return PRODUCT_BASE_URL}});var serverUrlObj={"주노":"http://3.37.86.118:8080","메리":"http://54.180.102.84:8080","헤나":"http://13.209.69.80:8080"},PRODUCT_BASE_URL="/products",CART_BASE_URL="/cart-items"},"./src/hooks/useFetchData.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:function(){return useFetchData}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),fetchApi=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,options){var response,contentType;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(navigator.onLine){_context.next=2;break}throw new Error("네트워크가 오프라인 상태입니다.");case 2:return _context.next=4,fetch(url,options);case 4:if((response=_context.sent).ok){_context.next=7;break}throw new Error("에러가 발생하였습니다.");case 7:if(!(contentType=response.headers.get("content-type"))||!contentType.includes("application/json")){_context.next=12;break}return _context.next=11,response.json();case 11:case 14:return _context.abrupt("return",_context.sent);case 12:return _context.next=14,response;case 15:case"end":return _context.stop()}}),_callee)})));return function fetchApi(_x,_x2){return _ref.apply(this,arguments)}}(),constants_url=__webpack_require__("./src/constants/url.ts"),es=__webpack_require__("./node_modules/recoil/es/index.js"),ServerState=__webpack_require__("./src/store/ServerState.ts"),useFetchData=function useFetchData(setData){var _useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],serverUrl=(0,es.sJ)(ServerState.v),base64=btoa("".concat("a@a.com",":").concat("1234")),fetchData=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,options,baseUrl){var data,refetchData;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetchApi(url,options);case 3:if(data=_context.sent,"GET"===options.method){_context.next=12;break}if(baseUrl){_context.next=7;break}return _context.abrupt("return");case 7:return _context.next=9,fetchApi("".concat(serverUrl).concat(baseUrl),{method:"GET",headers:{Authorization:"basic ".concat(base64)}});case 9:return refetchData=_context.sent,setData&&setData(refetchData),_context.abrupt("return");case 12:setData&&setData(data),_context.next=18;break;case 15:_context.prev=15,_context.t0=_context.catch(0),console.error(_context.t0);case 18:return _context.prev=18,setIsLoading(!1),_context.finish(18);case 21:case"end":return _context.stop()}}),_callee,null,[[0,15,18,21]])})));return function fetchData(_x,_x2,_x3){return _ref.apply(this,arguments)}}();return{api:{get:function get(url){url.includes(constants_url.a5)?fetchData(url,{method:"GET",headers:{Authorization:"basic ".concat(base64)}}):fetchData(url,{method:"GET"})},post:function post(url,body,baseUrl){fetchData(url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"basic ".concat(base64)},body:JSON.stringify(body)},baseUrl)},patch:function patch(url,body,baseUrl){fetchData(url,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"basic ".concat(base64)},body:JSON.stringify(body)},baseUrl)},delete:function _delete(url,baseUrl){fetchData(url,{method:"DELETE",headers:{Authorization:"basic ".concat(base64)}},baseUrl)}},isLoading:isLoading}}},"./src/store/CartSelector.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S_:function(){return isSelectedProductSelector},_u:function(){return cartBadgeSelector},iH:function(){return totalPriceSelector},kC:function(){return getCartItemIdSelector},mG:function(){return removeProductItemFromCartSelector},nS:function(){return updateCartSelector}});var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_CartState__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/store/CartState.ts"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/index.ts"),_ProductListState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/store/ProductListState.ts"),cartBadgeSelector=((0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"productFindByIdFamily",get:function get(id){return function(_ref){return(0,_ref.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).find((function(item){return item.product.id===id}))}}}),(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"cartBadgeSelector",get:function get(_ref2){var cart=(0,_ref2.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d);return new Set(cart).size}})),isSelectedProductSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"isSelectedProductSelector",get:function get(id){return function(_ref3){return(0,_ref3.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).some((function(item){return item.product.id===id}))}}}),getCartItemIdSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"getCartItemIdSelector",get:function get(id){return function(_ref4){var findItem=(0,_ref4.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).find((function(item){return item.product.id===id}));return findItem?findItem.id:-1}}}),updateCartSelector=((0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"selectedProductSelector",get:function get(id){return function(_ref5){return(0,_ref5.get)(_ProductListState__WEBPACK_IMPORTED_MODULE_2__.v).find((function(item){return item.id===id}))}}}),(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"addToCartSelector",get:function get(_ref6){var id=_ref6.id;return function(_ref7){var product=(0,_ref7.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).find((function(item){return item.product.id===id}));return product?product.quantity:_constants__WEBPACK_IMPORTED_MODULE_3__.LR}},set:function set(_ref8){var id=_ref8.id,cartId=_ref8.cartId,_ref8$quantity=_ref8.quantity,quantity=void 0===_ref8$quantity?0:_ref8$quantity;return function(_ref9){var get=_ref9.get,set=_ref9.set,cart=get(_CartState__WEBPACK_IMPORTED_MODULE_1__.d),productList=get(_ProductListState__WEBPACK_IMPORTED_MODULE_2__.v),cartItemIndex=cart.findIndex((function(item){return item.product.id===id})),updatedItem={id:cartId,quantity:quantity,product:productList.find((function(item){return item.id===id}))},updatedCart=cartItemIndex>=_constants__WEBPACK_IMPORTED_MODULE_3__.jB?cart.map((function(item,index){return index===cartItemIndex?updatedItem:item})):[].concat((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(cart),[updatedItem]);set(_CartState__WEBPACK_IMPORTED_MODULE_1__.d,updatedCart)}}})),removeProductItemFromCartSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"removeProductItemFromCartSelector",get:function get(){return function(_ref10){return(0,_ref10.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d)}},set:function set(id){return function(_ref11){var get=_ref11.get,set=_ref11.set,updatedCart=get(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).filter((function(item){return item.id!==id}));set(_CartState__WEBPACK_IMPORTED_MODULE_1__.d,updatedCart)}}}),totalPriceSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"totalPriceSelector",get:function get(selectedItems){return function(_ref12){return(0,_ref12.get)(_CartState__WEBPACK_IMPORTED_MODULE_1__.d).filter((function(item){return selectedItems.includes(item.id)})).reduce((function(total,item){return total+item.quantity*item.product.price}),0)}}})},"./src/store/CartState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return cartState}});var cartState=(0,__webpack_require__("./node_modules/recoil/es/index.js").cn)({key:"cartState",default:[]})},"./src/store/ProductListState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return productListState}});var productListState=(0,__webpack_require__("./node_modules/recoil/es/index.js").cn)({key:"productListState",default:[]})},"./src/store/ServerState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return serverState}});var serverState=(0,__webpack_require__("./node_modules/recoil/es/index.js").cn)({key:"serverState",default:"http://3.37.86.118:8080"})}}]);